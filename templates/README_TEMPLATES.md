# Label Studio 视频标注模板说明

本目录包含多个预配置的 Label Studio 视频标注模板，可以直接导入使用。

## 📁 模板列表

### 1. `video_object_detection_motorbike.xml`
**用途**：摩托车第一人称视角目标检测

**标注类型**：
- 🚶 行人（快捷键：1）
- 🚗 车辆（快捷键：2）
- 🚦 路标（快捷键：3）
- 🚧 施工标志（快捷键：4）
- 🚴 非机动车（快捷键：5）
- ⚠️ 障碍物（快捷键：6）

**附加功能**：
- 视频质量评估
- 备注文本框

**适用场景**：
- 自动驾驶数据标注
- 交通场景分析
- 道路安全研究

---

### 2. `video_tracking_advanced.xml`
**用途**：高级视频目标跟踪（包含属性和场景标注）

**标注类型**：
- 8 种常见交通目标（行人、汽车、摩托车、自行车、交通标志等）
- 关键点标注（可选）
- 目标属性标注（静止/移动/遮挡/模糊等）
- 场景类型分类（城市道路、高速、乡村等）
- 天气条件标注（晴天、雨天、夜间等）

**附加功能**：
- 视频亮度/对比度调节
- 缩放功能
- 智能跟踪辅助

**适用场景**：
- 复杂交通场景标注
- 多属性目标检测训练数据
- 全天候驾驶数据集构建

---

### 3. `video_simple_classification.xml`
**用途**：视频整体分类和风险评估

**标注类型**：
- 视频类别选择（正常行驶、危险驾驶、交通事故等）
- 风险等级评分（1-5 星）
- 文字描述

**适用场景**：
- 驾驶行为分析
- 交通事件检测
- 数据集预筛选

---

## 🚀 使用方法

### 方法一：在 Label Studio 界面中导入

1. 登录 Label Studio（http://localhost:8080）
2. 点击 **Create Project** 创建新项目
3. 填写项目名称和描述
4. 在 **Labeling Setup** 页面：
   - 点击 **Code** 标签
   - 复制对应的 XML 模板内容
   - 粘贴到配置框中
   - 点击 **Save**

### 方法二：通过文件导入

```bash
# 在创建项目时，直接读取模板文件内容
cat templates/video_object_detection_motorbike.xml
# 复制输出内容到 Label Studio 配置中
```

---

## ⌨️ 快捷键说明

在视频标注时，可以使用以下快捷键提高效率：

| 快捷键 | 功能 |
|--------|------|
| 1-8 | 选择对应的标签类别 |
| Space | 播放/暂停 |
| ← / → | 前进/后退一帧 |
| Shift + ← / → | 快速前进/后退 |
| Delete | 删除选中的标注 |
| Ctrl + Enter | 提交当前任务 |

---

## 🎨 自定义模板

如果需要自定义模板，可以修改 XML 文件中的以下部分：

### 修改标签类别
```xml
<Label value="你的类别名" background="#颜色代码" hotkey="数字"/>
```

### 修改颜色
使用标准的十六进制颜色代码，例如：
- 红色：`#FF0000`
- 蓝色：`#0000FF`
- 绿色：`#00FF00`

### 添加新的标注类型
参考 [Label Studio 官方文档](https://labelstud.io/tags/) 了解更多标签类型。

---

## 📊 导出格式建议

不同用途推荐的导出格式：

| 用途 | 推荐格式 |
|------|---------|
| YOLO 训练 | YOLO |
| 目标检测（通用） | COCO JSON |
| 语义分割 | Pascal VOC |
| 自定义处理 | Label Studio JSON |

---

## 💡 最佳实践

1. **标注前准备**
   - 在开始标注前，浏览完整视频了解内容
   - 明确标注规则和边界情况处理方式

2. **标注过程**
   - 使用快捷键提高效率
   - 对于运动目标，使用关键帧 + 插值功能
   - 遮挡严重的目标标记相应属性

3. **质量控制**
   - 定期审核已标注数据
   - 多人标注时，设置审核流程
   - 使用一致的标注标准

---

## 🔧 故障排查

**问题：模板导入后无法显示视频**
- 检查视频格式是否为 MP4/WebM
- 确认视频文件路径正确
- 尝试在浏览器中直接访问视频 URL

**问题：快捷键不起作用**
- 确保焦点在标注界面
- 检查浏览器是否拦截快捷键
- 尝试刷新页面

**问题：标注框无法保存**
- 检查是否选择了标签类别
- 确认矩形框大小合理
- 查看浏览器控制台是否有错误信息

---

## 📚 参考资源

- [Label Studio 官方文档](https://labelstud.io/guide/)
- [视频标注指南](https://labelstud.io/guide/video.html)
- [配置标签参考](https://labelstud.io/tags/)

如有问题或需要更多自定义模板，请随时联系！
